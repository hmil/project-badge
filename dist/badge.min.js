!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.badge=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){(function(){var c,d,e;e=a("./config"),d=a("./CanvasFactory"),b.exports=c=function(){function a(a){var b,c;for(b in a)c=a[b],this[b]=c}return a.prototype.renderTo=function(a,b,c){var d;null==b&&(b=0),null==c&&(c=0),a.save(),a.font=e.get("font"),a.translate(b,c),d=this.measure(a),this.drawBorder(a,d,e.get("border-radius")),a.clip(),this.drawBackground(a,d),this.drawBackgroundEffects(a,d),this.drawForeground(a,d),this.drawForegroundEffects(a,d),a.restore()},a.prototype.asDOMNode=function(){var a,b,c;return a=d.createCanvas(),b=a.getContext("2d"),c=this.measure(b),a.width=c.w,a.height=c.h,this.renderTo(b),a},a.prototype.measure=function(a){var b;return a.save(),a.font=e.get("font"),b=this.doMeasure(a),a.restore(),b},a.prototype.doMeasure=function(a){var b;return b=this.text?a.measureText(this.text).width:e.get("width"),{h:this.getHeight(),w:b+2*e.get("padding")}},a.prototype.drawBorder=function(a,b,c){var d,e;return e=b.w,d=b.h,a.moveTo(c,0),a.lineTo(e-c,0),a.arcTo(e,0,e,c,c),a.lineTo(e,d-c),a.arcTo(e,d,e-c,d,c),a.lineTo(c,d),a.arcTo(0,d,0,d-c,c),a.lineTo(0,c),a.arcTo(0,0,c,0,c)},a.prototype.drawBackground=function(a,b){var c,d;return d=b.w,c=b.h,a.fillStyle=e.get("color-background"),a.fillRect(0,0,d,c)},a.prototype.drawBackgroundEffects=function(a,b){var c,d,e;return e=b.w,d=b.h,a.save(),c=a.createLinearGradient(0,0,0,d),c.addColorStop(0,"#fff"),c.addColorStop(1,"#888"),a.globalCompositeOperation="multiply",a.fillStyle=c,a.fillRect(0,0,e,d),a.restore()},a.prototype.drawForeground=function(a,b){return this.drawText(a,b,this.text)},a.prototype.drawForegroundEffects=function(a,b){var c,d;return d=b.w,void(c=b.h)},a.prototype.getHeight=function(){return e.get("height")},a.prototype.drawText=function(a,b,c,d){var f,g,h;return g=b.w,f=b.h,null==d&&(d={}),a.fillStyle=e.get("color-text"),h="right"===d.align?g-e.get("padding")-a.measureText(c).width:e.get("padding"),a.fillText(c,h,e.get("text-height"))},a}()}).call(this)},{"./CanvasFactory":3,"./config":6}],2:[function(a,b){(function(){var c,d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("./Badge"),e=a("./config"),b.exports=d=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return g(b,a),b.prototype.doMeasure=function(a){var c;return c=b.__super__.doMeasure.call(this,a),c.w+=this.measureStatus(a),c},b.prototype.drawForeground=function(a,c){return b.__super__.drawForeground.call(this,a,c),this.drawText(a,c,this.getText(),{align:"right",margin:e.get("padding")})},b.prototype.getText=function(){return null!=this.statusText?this.statusText:this.getStatus()?this.successText:this.failureText},b.prototype.getStatus=function(){return this.inverse?!this.status:this.status},b.prototype.drawBackground=function(a,c){var d;return b.__super__.drawBackground.call(this,a,c),a.fillStyle=e.get(this.getStatus()?"color-success":"color-failure"),d=this.measureStatus(a),a.fillRect(c.w-d,0,d,c.h)},b.prototype.measureStatus=function(a){var b;return b=this.getText()?a.measureText(this.getText()).width:20,b+2*e.get("padding")},b}(c)}).call(this)},{"./Badge":1,"./config":6}],3:[function(a,b){(function(){b.exports={createCanvas:function(){return document.createElement("canvas")}}}).call(this)},{}],4:[function(a,b){(function(){var c,d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};e=a("./config"),c=a("./Badge"),b.exports=d=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return g(b,a),b.prototype.doMeasure=function(a){var c;return c=b.__super__.doMeasure.call(this,a),c.w+=this.measureInfo(a),c},b.prototype.drawForeground=function(a,c){return b.__super__.drawForeground.call(this,a,c),this.drawText(a,c,this.info,{align:"right",margin:5})},b.prototype.drawBackground=function(a,c){var d;return b.__super__.drawBackground.call(this,a,c),a.fillStyle=e.get("color-info"),d=this.measureInfo(a),a.fillRect(c.w-d,0,d,c.h)},b.prototype.measureInfo=function(a){var b;return b=this.info?a.measureText(this.info).width:20,b+10},b}(c)}).call(this)},{"./Badge":1,"./config":6}],5:[function(a,b){(function(){var c,d,e,f={}.hasOwnProperty,g=function(a,b){function c(){this.constructor=a}for(var d in b)f.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};e=a("./config"),c=a("./Badge"),b.exports=d=function(a){function b(a){a.text+=":",a.bounds||(a.bounds=[40,80]),a.unit||(a.unit="%"),b.__super__.constructor.call(this,a)}return g(b,a),b.prototype.doMeasure=function(a){var c;return c=b.__super__.doMeasure.call(this,a),c.w+=this.measureProgress(a),c},b.prototype.drawForeground=function(a,c){return b.__super__.drawForeground.call(this,a,c),this.drawText(a,c,this.progressText(),{align:"right",margin:e.get("padding")})},b.prototype.drawBackground=function(a,c){return b.__super__.drawBackground.call(this,a,c),a.fillStyle=e.get(this.progress<this.bounds[0]?"color-failure":this.progress<this.bounds[1]?"color-warning":"color-success"),a.fillRect(0,0,this.progress/100*c.w,c.h)},b.prototype.progressText=function(){return""+this.progress+this.unit},b.prototype.measureProgress=function(a){var b;return b=a.measureText(this.progressText()).width,b+e.get("padding")},b}(c)}).call(this)},{"./Badge":1,"./config":6}],6:[function(a,b){(function(){b.exports={data:{"color-success":"#0a0","color-failure":"#a00","color-warning":"#880","color-info":"#3BC2EB","color-background":"#444","color-text":"#fff",font:"11px Verdana","border-radius":5,padding:5,"text-height":14,width:50,height:20},set:function(a){var b,c,d;d=[];for(b in a)c=a[b],d.push(this.data[b]=c);return d},get:function(a){return this.data[a]}}}).call(this)},{}],7:[function(a,b){(function(){var c;c=a("./config"),b.exports={Badge:a("./Badge"),Boolean:a("./Boolean"),Progress:a("./Progress"),Info:a("./Info"),config:function(a){return c.set(a)}}}).call(this)},{"./Badge":1,"./Boolean":2,"./Info":4,"./Progress":5,"./config":6}]},{},[7])(7)});
//# sourceMappingURL=badge.min.map