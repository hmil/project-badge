!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.badge=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(){var c,d;d=a("./config"),c=a("./CanvasFactory"),b.exports=function(){function a(a){var b,c;for(b in a)c=a[b],this[b]=c}return a.prototype.renderTo=function(a,b,c){var e;null==b&&(b=0),null==c&&(c=0),a.save(),a.font=d.get("font"),a.translate(b,c),e=this.measure(a),this.drawBorder(a,e,d.get("border-radius")),a.clip(),this.drawBackground(a,e),this.drawBackgroundEffects(a,e),this.drawForeground(a,e),this.drawForegroundEffects(a,e),a.restore()},a.prototype.asDOMNode=function(){var a,b,d;return a=c.createCanvas(),b=a.getContext("2d"),d=this.measure(b),a.width=d.w,a.height=d.h,this.renderTo(b),a},a.prototype.measure=function(a){var b;return a.save(),a.font=d.get("font"),b=this.doMeasure(a),a.restore(),b},a.prototype.doMeasure=function(a){var b;return b=this.text?a.measureText(this.text).width:d.get("width"),{h:this.getHeight(),w:b+2*d.get("padding")}},a.prototype.drawBorder=function(a,b,c){var d,e;return e=b.w,d=b.h,a.moveTo(c,0),a.lineTo(e-c,0),a.arcTo(e,0,e,c,c),a.lineTo(e,d-c),a.arcTo(e,d,e-c,d,c),a.lineTo(c,d),a.arcTo(0,d,0,d-c,c),a.lineTo(0,c),a.arcTo(0,0,c,0,c)},a.prototype.drawBackground=function(a,b){var c,e;return e=b.w,c=b.h,a.fillStyle=d.get("color-background"),a.fillRect(0,0,e,c)},a.prototype.drawBackgroundEffects=function(a,b){var c,d,e;return e=b.w,d=b.h,a.save(),c=a.createLinearGradient(0,0,0,d),c.addColorStop(0,"#fff"),c.addColorStop(1,"#888"),a.globalCompositeOperation="multiply",a.fillStyle=c,a.fillRect(0,0,e,d),a.restore()},a.prototype.drawForeground=function(a,b){return this.drawText(a,b,this.text)},a.prototype.drawForegroundEffects=function(a,b){b.w,b.h},a.prototype.getHeight=function(){return d.get("height")},a.prototype.drawText=function(a,b,c,e){var f,g;return f=b.w,b.h,null==e&&(e={}),a.fillStyle=d.get("color-text"),g="right"===e.align?f-d.get("padding")-a.measureText(c).width:d.get("padding"),a.fillText(c,g,d.get("text-height"))},a}()}).call(this)},{"./CanvasFactory":3,"./config":6}],2:[function(a,b,c){(function(){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};c=a("./Badge"),d=a("./config"),b.exports=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return f(b,a),b.prototype.doMeasure=function(a){var c;return c=b.__super__.doMeasure.call(this,a),c.w+=this.measureStatus(a),c},b.prototype.drawForeground=function(a,c){return b.__super__.drawForeground.call(this,a,c),this.drawText(a,c,this.getText(),{align:"right",margin:d.get("padding")})},b.prototype.getText=function(){return null!=this.statusText?this.statusText:null==this.getStatus()?this.unknownText:this.getStatus()?this.successText:this.failureText},b.prototype.getStatus=function(){return null==this.status?this.status:this.inverse?!this.status:this.status},b.prototype.drawBackground=function(a,c){var e;return b.__super__.drawBackground.call(this,a,c),null==this.getStatus()?a.fillStyle=d.get("color-unknown"):this.getStatus()?a.fillStyle=d.get("color-success"):a.fillStyle=d.get("color-failure"),e=this.measureStatus(a),a.fillRect(c.w-e,0,e,c.h)},b.prototype.measureStatus=function(a){return(this.getText()?a.measureText(this.getText()).width:20)+2*d.get("padding")},b}(c)}).call(this)},{"./Badge":1,"./config":6}],3:[function(a,b,c){(function(){b.exports={createCanvas:function(){return document.createElement("canvas")}}}).call(this)},{}],4:[function(a,b,c){(function(){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("./config"),c=a("./Badge"),b.exports=function(a){function b(){return b.__super__.constructor.apply(this,arguments)}return f(b,a),b.prototype.doMeasure=function(a){var c;return c=b.__super__.doMeasure.call(this,a),c.w+=this.measureInfo(a),c},b.prototype.drawForeground=function(a,c){return b.__super__.drawForeground.call(this,a,c),this.drawText(a,c,this.info,{align:"right",margin:5})},b.prototype.drawBackground=function(a,c){var e;return b.__super__.drawBackground.call(this,a,c),a.fillStyle=d.get("color-info"),e=this.measureInfo(a),a.fillRect(c.w-e,0,e,c.h)},b.prototype.measureInfo=function(a){return(this.info?a.measureText(this.info).width:20)+10},b}(c)}).call(this)},{"./Badge":1,"./config":6}],5:[function(a,b,c){(function(){var c,d,e={}.hasOwnProperty,f=function(a,b){function c(){this.constructor=a}for(var d in b)e.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};d=a("./config"),c=a("./Badge"),b.exports=function(a){function b(a){a.text+=":",a.bounds||(a.bounds=[40,80]),a.unit||(a.unit="%"),b.__super__.constructor.call(this,a)}return f(b,a),b.prototype.doMeasure=function(a){var c;return c=b.__super__.doMeasure.call(this,a),c.w+=this.measureProgress(a),c},b.prototype.drawForeground=function(a,c){return b.__super__.drawForeground.call(this,a,c),this.drawText(a,c,this.progressText(),{align:"right",margin:d.get("padding")})},b.prototype.drawBackground=function(a,c){return b.__super__.drawBackground.call(this,a,c),this.progress<this.bounds[0]?a.fillStyle=d.get("color-failure"):this.progress<this.bounds[1]?a.fillStyle=d.get("color-warning"):a.fillStyle=d.get("color-success"),a.fillRect(0,0,this.progress/100*c.w,c.h)},b.prototype.progressText=function(a){return""+this.progress+this.unit},b.prototype.measureProgress=function(a){return a.measureText(this.progressText()).width+d.get("padding")},b}(c)}).call(this)},{"./Badge":1,"./config":6}],6:[function(a,b,c){(function(){b.exports={data:{"color-success":"#0a0","color-failure":"#a00","color-unknown":"#aaa","color-warning":"#880","color-info":"#3BC2EB","color-background":"#444","color-text":"#fff",font:"11px Verdana","border-radius":5,padding:5,"text-height":14,width:50,height:20},set:function(a){var b,c,d;d=[];for(b in a)c=a[b],d.push(this.data[b]=c);return d},get:function(a){return this.data[a]}}}).call(this)},{}],7:[function(a,b,c){(function(){var c;c=a("./config"),b.exports={Badge:a("./Badge"),Boolean:a("./Boolean"),Progress:a("./Progress"),Info:a("./Info"),config:function(a){return c.set(a)}}}).call(this)},{"./Badge":1,"./Boolean":2,"./Info":4,"./Progress":5,"./config":6}]},{},[7])(7)});
//# sourceMappingURL=badge.min.map